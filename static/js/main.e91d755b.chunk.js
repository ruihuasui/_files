(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,r){},17:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r(2),o=r(5),c=r(4),i=r(3),s=r(6),u=r(0),l=r.n(u),h=r(8),d=r.n(h);r(15);function f(e,t,r,a){var n=r;4===arguments.length&&(n=4*n+a),e[n]=t}function v(e,t,r){var a=t;return 3===arguments.length&&(a=4*a+r),e[a]}function m(e,t,r){for(var a=Math.floor(Math.random()*t);r&&a===r;)a=Math.floor(Math.random()*t);for(;e[a];)a=a>15?0:a+1;var n=Math.floor(10*Math.random());return{num:n=n>8?4:2,index:a}}function b(e,t,r){var a=e.slice();if(0===t)for(var n=0;n<4;n++){for(var o=[],c=0;c<4;c++){(s=v(a,c,n))&&(o.push(s),f(a,0,c,n))}var i=0;for(c=0;i<o.length;i++)i<o.length-1&&o[i]===o[i+1]&&(o[i]*=2,o[i+1]=0,r+=o[i]),o[i]&&(f(a,o[i],c,n),c++)}else if(1===t)for(c=3;c>=0;c--){for(o=[],n=3;n>=0;n--){(s=v(a,c,n))&&(o.push(s),f(a,0,c,n))}for(i=0,n=3;i<o.length;i++)i<o.length-1&&o[i]===o[i+1]&&(o[i]*=2,o[i+1]=0,r+=o[i]),o[i]&&(f(a,o[i],c,n),n--)}else if(2===t)for(n=3;n>=0;n--){for(o=[],c=3;c>=0;c--){(s=v(a,c,n))&&(o.push(s),f(a,0,c,n))}for(i=0,c=3;i<o.length;i++)i<o.length-1&&o[i]===o[i+1]&&(o[i]*=2,o[i+1]=0,r+=o[i]),o[i]&&(f(a,o[i],c,n),c--)}else if(3===t)for(c=0;c<4;c++){for(o=[],n=0;n<4;n++){var s;(s=v(a,c,n))&&(o.push(s),f(a,0,c,n))}for(i=0,n=0;i<o.length;i++)i<o.length-1&&o[i]===o[i+1]&&(o[i]*=2,o[i+1]=0,r+=o[i]),o[i]&&(f(a,o[i],c,n),n++)}return{matrix_:a,score_:r,full:function(e){for(var t=0;t<16;t++)if(0===e[t])return!1;return!0}(a),canMove:function(e,t){if(e.length!==t.length)return!0;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!0;return!1}(e,a)}}function g(e){var t=e.value?"active-square":"square";return l.a.createElement("div",{className:t,style:function(e){switch(e){case 2:return{background:"#eee4da"};case 4:return{background:"#ede0c8"};case 8:return{background:"#f2b179"};case 16:return{background:"#f59563",color:"white"};case 32:return{background:"#f67c5f",color:"white"};case 64:return{background:"#f65e3b",color:"white"};case 128:return{background:"#edcf72",color:"white"};case 256:return{background:"#edcc61",color:"white"};case 512:return{background:"#edc850",color:"white"};case 1024:return{background:"#edc53f",color:"white"};case 2048:return{background:"#edc22e",color:"white"};case 4096:return{background:"#edc850",color:"white"}}}(e.value)},l.a.createElement("div",{style:{marginTop:"30px"}},e.value?e.value:null))}var p=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"score-board"},this.props.canMove?"SCORE\n"+this.props.score:"Cannot Move!")}}]),t}(l.a.Component),E=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(n.a)(t,[{key:"renderSquare",value:function(e){return l.a.createElement(g,{value:v(this.props.matrix,e)})}},{key:"render",value:function(){return l.a.createElement("div",{className:"gameContainer"},l.a.createElement("div",{id:"header"},"2 0 4 8"),l.a.createElement("div",{id:"board"},this.props.restartButton,l.a.createElement("div",{className:"board-row"},this.renderSquare(0),this.renderSquare(1),this.renderSquare(2),this.renderSquare(3)),l.a.createElement("div",{className:"board-row"},this.renderSquare(4),this.renderSquare(5),this.renderSquare(6),this.renderSquare(7)),l.a.createElement("div",{className:"board-row"},this.renderSquare(8),this.renderSquare(9),this.renderSquare(10),this.renderSquare(11)),l.a.createElement("div",{className:"board-row"},this.renderSquare(12),this.renderSquare(13),this.renderSquare(14),this.renderSquare(15)),l.a.createElement(p,{score:this.props.score,full:this.props.full,canMove:this.props.canMove})))}}]),t}(l.a.Component),S=(r(16),{38:0,87:0,39:1,68:1,40:2,83:2,37:3,65:3}),w=!0,x=0,k=0,M=function(e){function t(e){var r;return Object(a.a)(this,t),(r=Object(o.a)(this,Object(c.a)(t).call(this,e))).restart=function(){r.setState({matrix:Array(16).fill(0),score:0,canMove:!0,full:!1}),w=!0},r._onTouchEnd=r._onTouchEnd.bind(Object(i.a)(r)),r._onTouchStart=r._onTouchStart.bind(Object(i.a)(r)),r.state={matrix:Array(16).fill(0),score:0,canMove:!0,full:!1},r}return Object(s.a)(t,e),Object(n.a)(t,[{key:"_onTouchStart",value:function(e){k=e.originalEvent.touches[0].clientY,x=e.originalEvent.touches[0].clientX}},{key:"_onTouchEnd",value:function(e){var t,r=x-e.originalEvent.touches[0].clientX,a=k-e.originalEvent.touches[0].clientY;t=Math.abs(r)>Math.abs(a)?r<0?3:1:a<0?2:0;var n=b(this.state.matrix.slice(),t,this.state.score);this.setState({canMove:n.canMove,matrix:n.matrix_,score:n.score_,full:n.full})}},{key:"handleChange",value:function(e){var t=S[e.which],r=b(this.state.matrix.slice(),t,this.state.score);this.setState({canMove:r.canMove,matrix:r.matrix_,score:r.score_,full:r.full})}},{key:"render",value:function(){var e=this;if(!this.state.full&&this.state.canMove){var t=m(this.state.matrix,16,null);if(f(this.state.matrix,t.num,t.index),w){w=!1;var r=m(this.state.matrix,16,t.index);f(this.state.matrix,r.num,r.index)}}return l.a.createElement("div",{onKeyDown:function(t){return e.handleChange(t)},tabIndex:"0",onTouchStart:this._onTouchStart,onTouchEnd:this._onTouchEnd},l.a.createElement(E,{matrix:this.state.matrix,score:this.state.score,full:this.state.full,canMove:this.state.canMove,restartButton:l.a.createElement("button",{className:"restart-button",onClick:this.restart},"New Game")}))}}]),t}(l.a.Component);d.a.render(l.a.createElement(M,null),document.getElementById("root"))},9:function(e,t,r){e.exports=r(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.e91d755b.chunk.js.map